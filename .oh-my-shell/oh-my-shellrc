#
# Bash shell:
#
# OSX:      . ~/.oh-my-shell/oh-my-shellrc into ~/.bash_profile ("Interactive Login"/"Interactive" shell)
# Ubuntu:   . ~/.oh-my-shell/oh-my-shellrc into ~/.bash_profile ("Interactive Login" shell)
#                                               into ~/.bashrc       ("Interactive" shell)
# ZSH shell:
#
# OSX:      . ~/.oh-my-shell/oh-my-shellrc into ~/.zshrc ("Interactive Login"/"Interactive" shell)
# Ubuntu:   . ~/.oh-my-shell/oh-my-shellrc into ~/.zshrc ("Interactive Login" shell)
#
# Source: http://shreevatsa.wordpress.com/2008/03/30/zshbash-startup-files-loading-order-bashrc-zshrc-etc/
#         http://tanguy.ortolo.eu/blog/article25/shrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

SHELLRC_ROOT_DIR="${HOME}/.oh-my-shell"
SHELLRC_SHELLRC_DIR="${SHELLRC_ROOT_DIR}/shellrc"
SHELLRC_FUNCTIONS_DIR="${SHELLRC_SHELLRC_DIR}/functions"
SHELLRC_ALIASES_DIR="${SHELLRC_SHELLRC_DIR}/aliases"

# Import boostraping functions
. "${SHELLRC_FUNCTIONS_DIR}/bootstrap.sh"

# Load common shell configs 
dot_if_exists "${SHELLRC_SHELLRC_DIR}/bootstrap.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/theme.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/environment.sh"
dot_if_exists "${SHELLRC_CURRENT_SHELL_DIR}/history.sh"
dot_if_exists "${SHELLRC_CURRENT_SHELL_DIR}/completion.sh"
dot_if_exists "${SHELLRC_CURRENT_SHELL_DIR}/correction.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/gnucoreutils.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/ripgrep.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/fzf.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/homebrew.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/ssh.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/java.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/nvm.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/npm.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/python.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/miscellaneous.sh"
dot_if_exists "${SHELLRC_SHELLRC_DIR}/aliases.sh"
dot_if_exists "${SHELLRC_ALIASES_DIR}/tmux.sh"

# Load shell specific config
dot_if_exists "${SHELLRC_CURRENT_SHELL_DIR}/custom.sh"

# Load <computer,user> shell specific config
dot_if_exists "${HOME}/.shellrc_custom.sh"

# Load tmux by default
if [ -z "$TMUX" ]; then
    tmux "cwd" 
fi
